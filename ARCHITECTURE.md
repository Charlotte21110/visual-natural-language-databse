# Natural Language DB - æ¶æ„è®¾è®¡æ–‡æ¡£

## ğŸ“ æ•´ä½“æ¶æ„

### 1. å‰åç«¯åˆ†ç¦»æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Frontend (React + Vite)                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  UI Layer                                        â”‚  â”‚
â”‚  â”‚  - ChatArea (å¯¹è¯ç•Œé¢)                           â”‚  â”‚
â”‚  â”‚  - QueryResult (ç»“æœå±•ç¤º)                        â”‚  â”‚
â”‚  â”‚  - Sidebar (æ•°æ®åº“å¯¼èˆª)                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Request Layer                                   â”‚  â”‚
â”‚  â”‚  - capi-request.ts (è°ƒç”¨ CAPI)                   â”‚  â”‚
â”‚  â”‚  - lcap-request.ts (è°ƒç”¨ LCAP)                   â”‚  â”‚
â”‚  â”‚  - api-client.ts (è°ƒç”¨åç«¯ API) [æ–°å¢]          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â”‚ HTTP/HTTPS
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Backend (Node.js + Express)                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Router Layer                                    â”‚  â”‚
â”‚  â”‚  - /api/chat/query (ä¸šåŠ¡æ¥å£)                    â”‚  â”‚
â”‚  â”‚  - /api/weda/* (Weda ä»£ç†) [å¯é€‰]                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Intelligence Layer (LangChain.js)               â”‚  â”‚
â”‚  â”‚  - IntentClassifier (æ„å›¾åˆ†ç±»)                   â”‚  â”‚
â”‚  â”‚  - AgentRouter (Agent è·¯ç”±)                      â”‚  â”‚
â”‚  â”‚  - ContextManager (ä¸Šä¸‹æ–‡ç®¡ç†)                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Agent Layer                                     â”‚  â”‚
â”‚  â”‚  - DataExplorerAgent (æŸ¥è¯¢)                      â”‚  â”‚
â”‚  â”‚  - DocAssistantAgent (æ–‡æ¡£é—®ç­”)                  â”‚  â”‚
â”‚  â”‚  - FieldMutatorAgent (å­—æ®µä¿®æ”¹)                  â”‚  â”‚
â”‚  â”‚  - SchemaDesignerAgent (è¡¨ç»“æ„)                  â”‚  â”‚
â”‚  â”‚  - DataAnalyzerAgent (æ•°æ®åˆ†æ)                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Client Layer                                    â”‚  â”‚
â”‚  â”‚  - CloudBaseClient (CloudBase SDK)               â”‚  â”‚
â”‚  â”‚  - RAGService (ChromaDB + å‘é‡æ£€ç´¢)              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ è¯·æ±‚æµç¨‹è®¾è®¡

### åœºæ™¯ 1: æŸ¥è¯¢æ•°æ®åº“

```
ç”¨æˆ·è¾“å…¥: "æŸ¥è¯¢ flexdb çš„ users è¡¨"

1. [å‰ç«¯] ChatArea ç»„ä»¶
   â”œâ”€ ç”¨æˆ·è¾“å…¥éªŒè¯
   â”œâ”€ æ·»åŠ æ¶ˆæ¯åˆ°å¯¹è¯å†å²
   â””â”€ è°ƒç”¨ API: POST /api/chat/query
        {
          "message": "æŸ¥è¯¢ flexdb çš„ users è¡¨",
          "context": {
            "envId": "xxx",
            "sessionId": "user-123"
          }
        }

2. [åç«¯] ChatController.handleChatQuery()
   â”œâ”€ ContextManager.enrichContext()
   â”‚   â”œâ”€ è¡¥å……é»˜è®¤ envId
   â”‚   â”œâ”€ è·å–å†å²å¯¹è¯ï¼ˆæœ€è¿‘ 5 æ¡ï¼‰
   â”‚   â””â”€ æå–ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼ˆä¸Šæ¬¡æŸ¥è¯¢çš„è¡¨ã€æ•°æ®åº“ç±»å‹ï¼‰
   â”‚
   â”œâ”€ IntentClassifier.classify()
   â”‚   â”œâ”€ æ„å»º Prompt
   â”‚   â”œâ”€ è°ƒç”¨ LLMï¼ˆé€šä¹‰åƒé—®/DeepSeekï¼‰
   â”‚   â””â”€ è§£ææ„å›¾ JSON
   â”‚        {
   â”‚          "type": "QUERY_DATABASE",
   â”‚          "confidence": 0.95,
   â”‚          "params": {
   â”‚            "dbType": "flexdb",
   â”‚            "table": "users"
   â”‚          }
   â”‚        }
   â”‚
   â”œâ”€ AgentRouter.route()
   â”‚   â””â”€ æ ¹æ®æ„å›¾ type è·¯ç”±åˆ° DataExplorerAgent
   â”‚
   â””â”€ DataExplorerAgent.execute()
       â”œâ”€ å‚æ•°è¡¥å…¨å’ŒéªŒè¯
       â”‚   â”œâ”€ æ£€æŸ¥ envId
       â”‚   â”œâ”€ æ£€æŸ¥ table
       â”‚   â””â”€ è¡¥å……é»˜è®¤ dbType
       â”‚
       â”œâ”€ CloudBaseClient.queryCollection()
       â”‚   â”œâ”€ æ„å»ºæŸ¥è¯¢å‚æ•°
       â”‚   â”œâ”€ è°ƒç”¨ @tcb-manager/node
       â”‚   â””â”€ è¿”å›æ•°æ®
       â”‚
       â””â”€ æ ¼å¼åŒ–å“åº”
            {
              "type": "query_result",
              "message": "å·²ä¸ºæ‚¨æŸ¥è¯¢ FlexDB çš„ users è¡¨ï¼Œå…± 120 æ¡æ•°æ®",
              "data": [...],
              "metadata": {
                "dbType": "flexdb",
                "table": "users",
                "rowCount": 120,
                "columns": ["id", "name", "email"],
                "displayType": "document"
              },
              "suggestions": ["ç­›é€‰æ•°æ®", "åˆ†æè¿™äº›æ•°æ®"]
            }

3. [å‰ç«¯] å¤„ç†å“åº”
   â”œâ”€ æ·»åŠ  AI æ¶ˆæ¯åˆ°å¯¹è¯å†å²
   â”œâ”€ æ›´æ–° QueryResult ç»„ä»¶
   â”‚   â”œâ”€ å¦‚æœæ˜¯ FlexDB: æ˜¾ç¤ºæ–‡æ¡£å‹è§†å›¾ï¼ˆæ ‘å½¢ï¼‰
   â”‚   â””â”€ å¦‚æœæ˜¯ MySQL: æ˜¾ç¤ºè¡¨æ ¼å‹è§†å›¾
   â”‚
   â””â”€ æ˜¾ç¤º suggestionsï¼ˆå¿«æ·æ“ä½œæŒ‰é’®ï¼‰
```

### åœºæ™¯ 2: æ–‡æ¡£é—®ç­”

```
ç”¨æˆ·è¾“å…¥: "å¦‚ä½•è¿æ¥ MongoDB"

1. [å‰ç«¯] POST /api/chat/query

2. [åç«¯]
   â”œâ”€ IntentClassifier -> "DOC_QUESTION"
   â”œâ”€ AgentRouter -> DocAssistantAgent
   â””â”€ DocAssistantAgent.execute()
       â”œâ”€ RAGService.search()
       â”‚   â”œâ”€ å‘é‡åŒ–ç”¨æˆ·é—®é¢˜
       â”‚   â”œâ”€ ChromaDB æ£€ç´¢ç›¸å…³æ–‡æ¡£ç‰‡æ®µ
       â”‚   â””â”€ è¿”å› Top 3 ç›¸å…³ç‰‡æ®µ
       â”‚
       â”œâ”€ LLM ç”Ÿæˆå›ç­”
       â”‚   â”œâ”€ è¾“å…¥: é—®é¢˜ + æ–‡æ¡£ç‰‡æ®µ
       â”‚   â””â”€ è¾“å‡º: å¸¦å¼•ç”¨çš„å›ç­”
       â”‚
       â””â”€ æ ¼å¼åŒ–å“åº”
            {
              "type": "doc_answer",
              "message": "è¦è¿æ¥ MongoDBï¼Œéœ€è¦...",
              "metadata": {
                "sources": [
                  { "title": "MongoDB è¿æ¥æŒ‡å—", "snippet": "..." }
                ]
              }
            }

3. [å‰ç«¯] æ˜¾ç¤ºå›ç­” + å¼•ç”¨æ¥æº
```

## ğŸ§© å…³é”®è®¾è®¡å†³ç­–

### 1. ä¸ºä»€ä¹ˆè¦æœ‰ IntentClassifierï¼Ÿ

**é—®é¢˜**: ç”¨æˆ·è¾“å…¥åƒå˜ä¸‡åŒ–ï¼Œå¦‚ä½•çŸ¥é“è¦åšä»€ä¹ˆï¼Ÿ

**è§£å†³æ–¹æ¡ˆ**:
- ä½¿ç”¨ LLM è¿›è¡Œæ„å›¾åˆ†ç±»
- è¾“å‡ºç»“æ„åŒ– JSONï¼ˆæ„å›¾ç±»å‹ + å‚æ•°ï¼‰
- é™çº§æ–¹æ¡ˆï¼šå…³é”®è¯åŒ¹é…ï¼ˆæ—  LLM æ—¶ï¼‰

**å¥½å¤„**:
- ç»Ÿä¸€çš„å†³ç­–å…¥å£
- æ˜“äºæ‰©å±•æ–°æ„å›¾
- å¯ä»¥è®°å½•æ„å›¾è¯†åˆ«å‡†ç¡®ç‡

### 2. ä¸ºä»€ä¹ˆè¦æœ‰ AgentRouterï¼Ÿ

**é—®é¢˜**: ä¸åŒçš„ä»»åŠ¡éœ€è¦ä¸åŒçš„å¤„ç†é€»è¾‘

**è§£å†³æ–¹æ¡ˆ**:
- æ ¹æ®æ„å›¾ç±»å‹è·¯ç”±åˆ°ä¸“é—¨çš„ Agent
- æ¯ä¸ª Agent ä¸“æ³¨äºä¸€ä¸ªé¢†åŸŸï¼ˆæŸ¥è¯¢ã€ä¿®æ”¹ã€åˆ†æï¼‰

**å¥½å¤„**:
- èŒè´£åˆ†ç¦»ï¼Œä»£ç æ¸…æ™°
- æ˜“äºæ·»åŠ æ–° Agent
- å¯ä»¥ç‹¬ç«‹æµ‹è¯•æ¯ä¸ª Agent

### 3. ä¸ºä»€ä¹ˆè¦æœ‰ ContextManagerï¼Ÿ

**é—®é¢˜**: ç”¨æˆ·å¯èƒ½è¯´"å†æŸ¥ä¸€ä¸‹åˆšæ‰é‚£ä¸ªè¡¨"

**è§£å†³æ–¹æ¡ˆ**:
- è®°å½•ä¼šè¯å†å²
- è¡¥å…¨ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼ˆenvIdã€ä¸Šæ¬¡æŸ¥è¯¢çš„è¡¨ï¼‰
- æ”¯æŒæŒ‡ä»£æ¶ˆè§£

**å¥½å¤„**:
- æ›´è‡ªç„¶çš„å¯¹è¯ä½“éªŒ
- å‡å°‘ç”¨æˆ·é‡å¤è¾“å…¥
- æ”¯æŒè¿ç»­å¤šè½®å¯¹è¯

## ğŸ”Œ å‰ç«¯å¯¹æ¥æ–¹å¼

### æ–¹æ¡ˆ 1: ç›´æ¥è°ƒç”¨åç«¯ APIï¼ˆæ¨èï¼‰

```typescript
// frontend/src/api/chat-api.ts
export async function queryChatAPI(message: string, context?: any) {
  const response = await fetch('http://localhost:3001/api/chat/query', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ message, context }),
  });
  return response.json();
}

// frontend/src/components/ChatArea/index.tsx
import { queryChatAPI } from '@/api/chat-api';

const handleSend = async () => {
  const result = await queryChatAPI(inputValue, {
    envId: 'your-env-id',
    sessionId: 'default',
  });
  
  // å¤„ç†å“åº”
  setMessages(prev => [...prev, { type: 'ai', content: result.message }]);
  onQuery?.(result); // æ›´æ–°å³ä¾§æ•°æ®å±•ç¤º
};
```

### æ–¹æ¡ˆ 2: åŒæ—¶è°ƒç”¨æœ¬åœ°æ¥å£å’Œ Weda æ¥å£

**é—®é¢˜**: 
- æœ‰äº›åŠŸèƒ½éœ€è¦è°ƒç”¨åç«¯ AI å¤„ç†ï¼ˆ`/api/chat/query`ï¼‰
- æœ‰äº›åŠŸèƒ½éœ€è¦ç›´æ¥è°ƒç”¨ Weda CAPIï¼ˆ`/weda-capi`ï¼‰

**è§£å†³æ–¹æ¡ˆ**:

```typescript
// frontend/src/request/index.ts
export { capiRequest, lcapRequest } from './capi-request';
export { queryChatAPI } from './chat-api'; // æ–°å¢

// ä½¿ç”¨åœºæ™¯åˆ¤æ–­
if (needAIProcessing) {
  // è°ƒç”¨åç«¯ AI
  const result = await queryChatAPI(message);
} else {
  // ç›´æ¥è°ƒç”¨ CAPI
  const result = await flexdbCapiRequest({ action: 'Query', data: {...} });
}
```

**åˆ¤æ–­æ ‡å‡†**:
- è‡ªç„¶è¯­è¨€è¾“å…¥ â†’ è°ƒç”¨åç«¯ AI
- æ˜ç¡®çš„ SDK è°ƒç”¨ â†’ ç›´æ¥è°ƒç”¨ CAPI
- æ–‡æ¡£é—®ç­” â†’ è°ƒç”¨åç«¯ AI
- æ•°æ®æ¨¡å‹åˆ›å»º â†’ ç›´æ¥è°ƒç”¨ CAPIï¼ˆæˆ–é€šè¿‡åç«¯åŒ…è£…ï¼‰

## ğŸ¯ å“åº”æ ¼å¼è§„èŒƒ

### ç»Ÿä¸€å“åº”ç»“æ„

```typescript
interface AgentResponse {
  type: 'query_result' | 'doc_answer' | 'error' | 'missing_params' | ...;
  message: string;           // ç»™ç”¨æˆ·çš„å›å¤æ¶ˆæ¯
  data?: any;                // æŸ¥è¯¢ç»“æœæ•°æ®
  metadata?: {               // å…ƒæ•°æ®
    dbType?: string;
    table?: string;
    rowCount?: number;
    columns?: string[];
    displayType?: 'table' | 'document';
    [key: string]: any;
  };
  suggestions?: string[];    // ä¸‹ä¸€æ­¥å»ºè®®
}
```

### å‰ç«¯æ ¹æ® type æ¸²æŸ“

```typescript
// frontend/src/components/QueryResult/index.tsx
switch (response.type) {
  case 'query_result':
    if (response.metadata.displayType === 'document') {
      return <DocumentView data={response.data} />;
    } else {
      return <TableView data={response.data} columns={response.metadata.columns} />;
    }
  
  case 'doc_answer':
    return <DocAnswerView message={response.message} sources={response.metadata.sources} />;
  
  case 'error':
    return <ErrorView message={response.message} />;
  
  case 'missing_params':
    return <ParamForm message={response.message} suggestions={response.suggestions} />;
}
```

## ğŸš€ éƒ¨ç½²æ–¹æ¡ˆ

### å¼€å‘ç¯å¢ƒ

```bash
# ç»ˆç«¯ 1: å¯åŠ¨å‰ç«¯
cd frontend
npm run dev
# â†’ http://localhost:5173

# ç»ˆç«¯ 2: å¯åŠ¨åç«¯
cd backend
npm run dev
# â†’ http://localhost:3001
```

### ç”Ÿäº§ç¯å¢ƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Nginx / CDN                 â”‚
â”‚  â”œâ”€ /api/* â†’ è½¬å‘åˆ°åç«¯              â”‚
â”‚  â””â”€ /* â†’ é™æ€èµ„æºï¼ˆå‰ç«¯æ„å»ºäº§ç‰©ï¼‰    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â†’ Node.js Backend (PM2)
         â”‚    â””â”€ http://localhost:3001
         â”‚
         â””â”€â†’ Static Files (React Build)
              â””â”€ /dist
```

**éƒ¨ç½²æ­¥éª¤**:

```bash
# 1. æ„å»ºå‰ç«¯
cd frontend
npm run build
# â†’ äº§ç‰©åœ¨ frontend/dist

# 2. æ„å»ºåç«¯
cd backend
npm run build
# â†’ äº§ç‰©åœ¨ backend/dist

# 3. å¯åŠ¨åç«¯
cd backend
pm2 start dist/index.js --name nldb-backend

# 4. é…ç½® Nginx
server {
  listen 80;
  
  location /api {
    proxy_pass http://localhost:3001;
  }
  
  location / {
    root /path/to/frontend/dist;
    try_files $uri $uri/ /index.html;
  }
}
```

## ğŸ“Š åç»­ä¼˜åŒ–æ–¹å‘

### æ€§èƒ½ä¼˜åŒ–
- [ ] LLM å“åº”ç¼“å­˜ï¼ˆç›¸åŒé—®é¢˜ç›´æ¥è¿”å›ï¼‰
- [ ] æŸ¥è¯¢ç»“æœåˆ†é¡µï¼ˆé¿å…ä¸€æ¬¡è¿”å›å¤ªå¤šæ•°æ®ï¼‰
- [ ] æµå¼è¿”å›ï¼ˆSSE/WebSocketï¼‰

### åŠŸèƒ½å¢å¼º
- [ ] RAG æ–‡æ¡£é—®ç­”
- [ ] å¤šè¡¨ JOIN æŸ¥è¯¢
- [ ] æ•°æ®å¯è§†åŒ–ï¼ˆEChartsï¼‰
- [ ] SQL æ‰§è¡Œè®¡åˆ’åˆ†æ

### å®‰å…¨å¢å¼º
- [ ] SQL ç™½åå•éªŒè¯
- [ ] æƒé™éš”ç¦»
- [ ] æ“ä½œå®¡è®¡æ—¥å¿—
- [ ] æ•æ„Ÿæ“ä½œäºŒæ¬¡ç¡®è®¤

## ğŸ’¡ æ€»ç»“

**æ ¸å¿ƒè®¾è®¡ç†å¿µ**:
1. **å‰åç«¯åˆ†ç¦»**: å‰ç«¯ä¸“æ³¨ UIï¼Œåç«¯ä¸“æ³¨æ™ºèƒ½å†³ç­–
2. **æ¨¡å—åŒ–**: IntentClassifierã€AgentRouterã€å„ç§ Agent èŒè´£æ˜ç¡®
3. **å¯æ‰©å±•**: æ–°å¢ Agentã€æ–°å¢æ„å›¾éƒ½å¾ˆå®¹æ˜“
4. **ç”¨æˆ·å‹å¥½**: è‡ªç„¶è¯­è¨€è¾“å…¥ + ç»“æ„åŒ–è¾“å‡º

**é€‚åˆä½ çš„é¡¹ç›®**:
- âœ… æ”¯æŒè‡ªç„¶è¯­è¨€æŸ¥è¯¢æ•°æ®åº“
- âœ… æ”¯æŒç›´æ¥è°ƒç”¨ CAPI/LCAPï¼ˆä¿ç•™ç°æœ‰èƒ½åŠ›ï¼‰
- âœ… æ˜“äºæ‰©å±•ï¼ˆRAGã€å¤š Agentã€æ•°æ®åˆ†æï¼‰
- âœ… å‰åç«¯è§£è€¦ï¼Œæ–¹ä¾¿éƒ¨ç½²
